<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>PotatoFarm</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous" async></script>
  <script src="./index.js"></script>
</head>

<body>
  <nav class="navbar navbar-dark bg-dark p-2 mb-2">
    <a href="#" class="navbar-brand">PotatoFarm</a>
  </nav>
  <div class="container">
    <h2>譜面一覧</h2>
    <div class="d-flex flex-wrap">
      <% for (level of levels) { %>
      <div class="card p-4 m-2 w-100">
        <h3><%= level.title %> - <span class="font-monospace"><%= level.name %></span></h3>
        <p>
          サイズ：<span class="font-monospace"><%= level.size == "?" ? level.size :Math.floor(level.size / 1024) + "KB" %></span><br>
          エディタ：<span class="font-monospace"><%= level.editor %></span>

        </p>
        <!-- <img class="float-end" src="/local/<%= level.name %>/jacket"> -->

      </div>
      <% } %>
    </div>
    <h2>オプション</h2>
    <div class="mb-2">
      <div>
        <h4>ポート *</h4>
        <input type="text" class="form-control" id="port" placeholder="<%= defaultConfig.port %>" value="<%= config.port %>">
      </div>
      <div>
        <h4>ダウンロードフォルダ</h4>
        <input type="text" class="form-control" id="downloadPath" placeholder="<%= defaultConfig.downloadPath %>" value="<%= config.downloadPath %>">
      </div>
      <div>
        <p>*の設定は再起動後に反映されます。</p>
        <p>設定ファイル：<%= file %></p>
        <button class="btn btn-primary" onclick="saveConfig()">保存</button>
      </div>
    </div>
  </div>
</body>

</html>